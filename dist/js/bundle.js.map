{"version":3,"sources":["app.js","d3-circle-packing.js","controllers/HomeController.js","controllers/LoginController.js","controllers/NapController.js","services/AuthService.js","services/FireBaseURL.js","services/NapService.js","directives/basic-timer/BasicTimerController.js","directives/basic-timer/basicTimerDirective.js"],"names":["angular","module","run","$rootScope","$state","console","log","$on","e","next","prev","error","go","config","$stateProvider","$urlRouterProvider","otherwise","state","url","templateUrl","resolve","currentAuth","AuthService","$requireSignIn","controller","$waitForSignIn","svg","d3","select","margin","diameter","attr","g","append","color","scaleLinear","domain","range","interpolate","interpolateHcl","pack","size","padding","json","root","hierarchy","sum","d","sort","a","b","value","focus","nodes","descendants","view","circle","selectAll","data","enter","parent","children","style","depth","on","zoom","event","stopPropagation","text","name","node","zoomTo","x","y","r","focus0","transition","duration","altKey","tween","i","interpolateZoom","t","filter","display","v","k","$scope","$timeout","rootRef","logout","$signOut","loggedIn","anonLogin","$signInAnonymously","then","errorMessage","code","googleLogin","$signInWithPopup","moment","$interval","NapService","getTimeElapsed","timeElapsed","generateTimeElapsed","startTime","endTime","stop","startTimer","beginning","timer","stopTimer","ending","cancel","timerResult","start","end","diff","hours","parseInt","minutes","seconds","submitTime","factory","$firebaseAuth","firebase","database","ref","service","$firebaseObject","child","syncObject","time","object","directive","restrict","scope","link","elem","attrs","setInterval","getTimes","$","timerInitiated","timerRunning","timerStopped","totalTime","Date","now","getTime","cancelTimer","ms","temp"],"mappings":"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","file":"bundle.js","sourcesContent":["angular.module('app', ['ui.router', 'angularMoment', 'firebase'])\n.run(function($rootScope, $state) {\n  console.log('in run');\n    $rootScope.$on('$routeChangeError', function(e, next, prev, error) {\n      console.log('in rootScope');\n        if (error === 'AUTH_REQUIRED') {\n          console.log('in error');\n            $state.go('login');\n        }\n    });\n})\n    .config(function($stateProvider, $urlRouterProvider) {\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider\n            .state('home', {\n                url: '/',\n            })\n            .state('naps', {\n                url: '/naps',\n                templateUrl: './views/naps.html',\n                resolve: {\n                    currentAuth: function(AuthService) {\n                        return AuthService.$requireSignIn();\n                    }\n                },\n                controller: 'NapController'\n            })\n            .state('login', {\n                url: '/login',\n                templateUrl: './views/login.html',\n                resolve: {\n                    currentAuth: function(AuthService) {\n                        // console.log('In resolve');\n                        return AuthService.$waitForSignIn();\n                    }\n                },\n                controller: 'LoginController'\n            })\n    });\n","var svg = d3.select(\"svg\"),\n    margin = 20,\n    diameter = +svg.attr(\"width\"),\n    g = svg.append(\"g\").attr(\"transform\", \"translate(\" + diameter / 2 + \",\" + diameter / 2 + \")\");\n\nvar color = d3.scaleLinear()\n    .domain([-1, 5])\n    .range([\"hsl(152,80%,80%)\", \"hsl(228,30%,40%)\"])\n    .interpolate(d3.interpolateHcl);\n\nvar pack = d3.pack()\n    .size([diameter - margin, diameter - margin])\n    .padding(2);\n\nd3.json(\"Objects/infant-data-packing.json\", function(error, root) {\n    if (error) throw error;\n\n    root = d3.hierarchy(root)\n        .sum(function(d) {\n            return d.size;\n        })\n        .sort(function(a, b) {\n            return b.value - a.value;\n        });\n\n    var focus = root,\n        nodes = pack(root).descendants(),\n        view;\n\n    var circle = g.selectAll(\"circle\")\n        .data(nodes)\n        .enter().append(\"circle\")\n        .attr(\"class\", function(d) {\n            return d.parent ? d.children ? \"node\" : \"node node--leaf\" : \"node node--root\";\n        })\n        .style(\"fill\", function(d) {\n            return d.children ? color(d.depth) : null;\n        })\n        .on(\"click\", function(d) {\n            if (focus !== d) zoom(d), d3.event.stopPropagation();\n        });\n\n    var text = g.selectAll(\"text\")\n        .data(nodes)\n        .enter().append(\"text\")\n        .attr(\"class\", \"label\")\n        .style(\"fill-opacity\", function(d) {\n            return d.parent === root ? 1 : 0;\n        })\n        .style(\"display\", function(d) {\n            return d.parent === root ? \"inline\" : \"none\";\n        })\n        .text(function(d) {\n            return d.data.name;\n        });\n\n    var node = g.selectAll(\"circle,text\");\n\n    svg\n        .style(\"background\", color(-1))\n        .on(\"click\", function() {\n            zoom(root);\n        });\n\n    zoomTo([root.x, root.y, root.r * 2 + margin]);\n\n    function zoom(d) {\n        var focus0 = focus;\n        focus = d;\n\n        var transition = d3.transition()\n            .duration(d3.event.altKey ? 7500 : 750)\n            .tween(\"zoom\", function(d) {\n                var i = d3.interpolateZoom(view, [focus.x, focus.y, focus.r * 2 + margin]);\n                return function(t) {\n                    zoomTo(i(t));\n                };\n            });\n\n        transition.selectAll(\"text\")\n            .filter(function(d) {\n                return d.parent === focus || this.style.display === \"inline\";\n            })\n            .style(\"fill-opacity\", function(d) {\n                return d.parent === focus ? 1 : 0;\n            })\n            .on(\"start\", function(d) {\n                if (d.parent === focus) this.style.display = \"inline\";\n            })\n            .on(\"end\", function(d) {\n                if (d.parent !== focus) this.style.display = \"none\";\n            });\n    }\n\n    function zoomTo(v) {\n        var k = diameter / v[2];\n        view = v;\n        node.attr(\"transform\", function(d) {\n            return \"translate(\" + (d.x - v[0]) * k + \",\" + (d.y - v[1]) * k + \")\";\n        });\n        circle.attr(\"r\", function(d) {\n            return d.r * k;\n        });\n    }\n});\n","angular.module('app')\n    .controller('HomeController', function($scope, $state, $timeout, AuthService, rootRef) {\n        $scope.logout = function() {\n            AuthService.$signOut();\n\n            $timeout(function() {\n                $state.go('login');\n            }, 500);\n        };\n    });\n","angular.module('app')\n    .controller('LoginController', function($scope, $state, AuthService, currentAuth) {\n        console.log(currentAuth);\n        $scope.loggedIn = !!currentAuth;\n        $scope.anonLogin = function() {\n            AuthService.$signInAnonymously()\n                .then(function() {\n                    $state.go('home');\n                }, function(error) {\n                    $scope.errorMessage = error.code;\n                })\n        };\n\n        $scope.googleLogin = function() {\n            AuthService.$signInWithPopup('google')\n                .then(function() {\n                    $state.go('home');\n                }, function(error) {\n                    $scope.errorMessage = error.code;\n                })\n        };\n    });\n","angular.module('app')\n    .controller('NapController', function($scope, moment, $interval, NapService) {\n        $scope.getTimeElapsed = function() {\n            $scope.timeElapsed = $scope.generateTimeElapsed($scope.startTime, $scope.endTime);\n        };\n\n\n        var stop;\n        $scope.startTimer = function() {\n            $scope.beginning = new moment();\n            stop = $interval(function() {\n                $scope.timer = $scope.generateTimeElapsed($scope.beginning, new moment());\n            }, 1000)\n        };\n        $scope.stopTimer = function() {\n            $scope.ending = new moment();\n            if ($scope.beginning) {\n                $interval.cancel(stop);\n                $scope.timerResult = $scope.generateTimeElapsed($scope.beginning, $scope.ending);\n            }\n        };\n\n\n        $scope.generateTimeElapsed = function(startTime, endTime) {\n            if (startTime && endTime) {\n                var start = moment(startTime, \"HH:mm:ss a\");\n                var end = moment(endTime, \"HH:mm:ss a\");\n                var duration = moment.duration(end.diff(start));\n                var hours = parseInt(duration.hours());\n                var minutes = parseInt(duration.minutes());\n                var seconds = duration.seconds();\n\n                if (hours) {\n                    return hours + ' hr ' + minutes + ' min';\n                } else if (minutes) {\n                    return minutes + ' min ' + seconds + ' sec';\n                } else {\n                    return seconds + ' sec';\n                }\n            }\n        };\n\n        $scope.submitTime = function () {\n          NapService.submitTime($scope.timerResult);\n        };\n\n    });\n","angular.module('app')\n    .factory('AuthService', function($firebaseAuth, rootRef) {\n        return $firebaseAuth();\n    });\n","angular.module('app').factory('rootRef', function() {\n  return firebase.database().ref();\n});\n","angular.module('app')\n    .service('NapService', function($firebaseObject) {\n        var rootRef = firebase.database().ref().child('data');\n        var syncObject = $firebaseObject(rootRef);\n\n        this.submitTime = function(time) {\n          console.log(object);\n        };\n    });\n","","angular.module('app')\n    .directive('basicTimer', function() {\n        return {\n            restrict: 'E',\n            templateUrl: '/js/directives/basic-timer/basic-timer.html',\n            scope: {\n\n            },\n            link: function($scope, elem, attrs) {\n                setInterval(function() {\n                    $scope.getTimes();\n                    $('#basic-timer .hours').text($scope.hours);\n                    $('#basic-timer .minutes').text($scope.minutes);\n                    $('#basic-timer .seconds').text($scope.seconds);\n                }, 500);\n            },\n            controller: function($scope, moment, $interval) {\n                $scope.timerInitiated = false;\n                $scope.timerRunning = false;\n                $scope.timerStopped = true;\n                var timeElapsed = 0;\n                var totalTime = 0;\n                var beginning;\n                var stop = null;\n\n                $scope.startTimer = function() {\n                    $scope.timerInitiated = true;\n                    $scope.timerRunning = true;\n                    $scope.timerStopped = false;\n                    if (!stop) {\n                        beginning = new Date();\n                        stop = $interval(function() {\n                            var now = new Date();\n                            timeElapsed = now.getTime() - beginning.getTime();\n                        }, 500);\n                    }\n                };\n\n                $scope.stopTimer = function() {\n                    $scope.timerRunning = false;\n                    $scope.timerStopped = true;\n                    if (stop) {\n                        $interval.cancel(stop);\n                        stop = null;\n                        totalTime += timeElapsed;\n                        timeElapsed = 0;\n                    }\n                };\n\n                $scope.cancelTimer = function() {\n                  timeElapsed = 0;\n                  totalTime = 0;\n                  $scope.timerInitiated = false;\n                  $scope.timerRunning = false;\n                  $scope.timerStopped = true;\n                };\n\n                $scope.getTimes = function() {\n                    var ms = totalTime + timeElapsed;\n                    var temp = moment.duration(ms);\n                    $scope.hours = temp.hours();\n                    $scope.minutes = temp.minutes();\n                    $scope.seconds = temp.seconds();\n                };\n\n                // End of controller\n            }\n            // End of return\n        };\n        // End of directive\n    });\n"]}